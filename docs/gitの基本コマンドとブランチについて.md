## gitの基本コマンドとブランチについて

## 基本コマンド

### レポジトリの新規作成
`$ git init`

### コミットに含むファイルの決定（ステージング・track）
`$ git add ファイル名 # git add -A ならカレントディレクトリ以下のすべてのファイル`

### コミット（ファイル差分の記録）
`$ git commit -m "コミットメッセージ"`

### プッシュ（リモートへのアップロード）
`$ git push # git push origin masterの略。ブランチを指定する場合は、$ git push origin ブランチ名`

### プル（リモートからローカルへのダウンロード）
`$ git pull`


## 設定コマンド

- gitのインストール（済んでいるとする。コマンドライン（ターミナル・コマンドプロンプト）で`git`と打ってエラーが出なかったらインストールされている）
- gitの署名（コミットするときの名義。誰が編集したかわかるようにする）
- ショートカット
- 諸設定

### gitの署名
以下の２行は、自分の設定によって変わるので、単純にコピペしないように

`$ git config --global user.name "ユーザ名" # (githubのユーザ名。""で囲む)`

`$ git config --global user.email githubのメアド # ""で囲まない`

### 諸設定
`$ git config --global push.default matching  # git push としたとき、ローカルとリモートで同じ名前のブランチがあったら、全て push する。`

### ショートカット
`$ git config --global alias.co checkout #任意。checkoutをcoと短縮系で使えるようになる  `



## ブランチ
gitには「ブランチ」という、コミットを分けておける機能がある。

例えば、今ある「ブランチA」を「ブランチB」と「ブランチC」に分けて作業する。

- 「ブランチB」ではindex.htmlを編集
- 「ブランチC」ではstyle.cssを編集

というようにすると、「ブランチB」でindex.htmlを編集しても、「ブランチC」ではindex.htmlは変更されない。

これは何がいいかと言うと、例えば、そのまま「ブランチA」でindex.htmlとstyle.cssを編集したとすると、間違って

`$ git add -A`

`$ git commit -m "update: サイトの見た目"`

などしてしまったとき、index.htmlとstyle.cssの両方が同じコミットに含まれてしまう。
こうなると、このときにindex.htmlの方だけ失敗して元に戻したい場合、style.cssも元に戻ってしまう。

- 「ブランチB」ではindex.htmlを編集
- 「ブランチC」ではstyle.cssを編集

というようにブランチを分けておくことで、このような事態を防げるし、コミットに神経質にならずに済む

また、後述の「pull request」を送るときに意図が理解しやすかったりもする

### 新しいブランチを作る
`$ git checkout -b ブランチ名`

### ブランチ間の移動
`$ git checkout ブランチ名`

覚えておくことは、
- 「ブランチA」で行ったコミットは、他のブランチには影響を与えない
ということ

## ブランチをマージ（ソースコードの統合）する
新しく作ったブランチBを派生元のブランチAにマージすることで、ソースコードの更新が完了する。

### マージ
`$ git merge 今のブランチにマージしたい他のブランチ名`